import dropEmptyAddress from 'process/NB/ManualUnderwriting/utils/dropEmptyAddress';

describe('dropEmptyAddress', () => {
  test('address is empty', () => {
    const addressList = [
      {
        creator: 'MYSAY1',
        gmtCreate: '2023-02-09T06:15:37.000+0000',
        modifier: '0',
        gmtModified: '2023-02-09T06:15:37.000+0000',
        deleted: 0,
        transId: '6743839d-a2fc-44d7-be5c-e24d68fab5ce',
        applicationNo: 'MY20230128014',
        clientId: 'a86e2a93-3c7c-43aa-af38-4c8d1c6bdf0d',
        addrType: 'C',
        country: '',
        address1: '',
        address2: '',
        address3: '',
        address4: '',
        address5: '',
        address6: '',
        address7: '',
        zipCode: '',
        alternateContact: '',
        alternateContactType: '',
        fullAddress: '',
        level: '',
        unitNumber: '',
        laAddressClientId: '50024557',
        addressId: '10182767',
        communicationLane: null,
      },
      {
        creator: 'MYSAY1',
        gmtCreate: '2023-02-09T06:15:37.000+0000',
        modifier: '0',
        gmtModified: '2023-02-09T06:15:37.000+0000',
        deleted: 0,
        transId: '6743839d-a2fc-44d7-be5c-e24d68fab5ce',
        applicationNo: 'MY20230128014',
        clientId: 'a86e2a93-3c7c-43aa-af38-4c8d1c6bdf0d',
        addrType: 'R',
        country: 'MYS',
        address1: 'No 635',
        address2: 'Jalan Muni 5',
        address3: null,
        address4: 'Kangar',
        address5: null,
        address6: 'MYSMYR',
        address7: '',
        zipCode: '01500',
        alternateContact: '',
        alternateContactType: '',
        fullAddress: 'Malaysia Perlis Kangar Jalan Muni 5 No 635',
        level: '',
        unitNumber: '',
        laAddressClientId: '50024557',
        addressId: '10182767',
        communicationLane: null,
      },
    ];
    const result = dropEmptyAddress({
      addressList,
    });

    expect(result).toEqual([
      {
        creator: 'MYSAY1',
        gmtCreate: '2023-02-09T06:15:37.000+0000',
        modifier: '0',
        gmtModified: '2023-02-09T06:15:37.000+0000',
        deleted: 0,
        transId: '6743839d-a2fc-44d7-be5c-e24d68fab5ce',
        applicationNo: 'MY20230128014',
        clientId: 'a86e2a93-3c7c-43aa-af38-4c8d1c6bdf0d',
        addrType: 'R',
        country: 'MYS',
        address1: 'No 635',
        address2: 'Jalan Muni 5',
        address3: null,
        address4: 'Kangar',
        address5: null,
        address6: 'MYSMYR',
        address7: '',
        zipCode: '01500',
        alternateContact: '',
        alternateContactType: '',
        fullAddress: 'Malaysia Perlis Kangar Jalan Muni 5 No 635',
        level: '',
        unitNumber: '',
        laAddressClientId: '50024557',
        addressId: '10182767',
        communicationLane: null,
      },
    ]);
  });

  test('test fullAddress  logic', () => {
    const addressList = [
      {
        creator: 'MYSAY1',
        gmtCreate: '2023-02-09T06:15:37.000+0000',
        modifier: '0',
        gmtModified: '2023-02-09T06:15:37.000+0000',
        deleted: 0,
        transId: '6743839d-a2fc-44d7-be5c-e24d68fab5ce',
        applicationNo: 'MY20230128014',
        clientId: 'a86e2a93-3c7c-43aa-af38-4c8d1c6bdf0d',
        addrType: 'C',
        country: '',
        address1: '',
        address2: '',
        address3: '',
        address4: '',
        address5: '',
        address6: '',
        address7: '',
        zipCode: '',
        alternateContact: '',
        alternateContactType: '',
        fullAddress: 'Malaysia Perlis Kangar Jalan Muni 5 No 635',
        level: '',
        unitNumber: '',
        laAddressClientId: '50024557',
        addressId: '10182767',
        communicationLane: null,
      },
    ];
    const result = dropEmptyAddress({
      addressList,
    });

    expect(result).toEqual([
      {
        creator: 'MYSAY1',
        gmtCreate: '2023-02-09T06:15:37.000+0000',
        modifier: '0',
        gmtModified: '2023-02-09T06:15:37.000+0000',
        deleted: 0,
        transId: '6743839d-a2fc-44d7-be5c-e24d68fab5ce',
        applicationNo: 'MY20230128014',
        clientId: 'a86e2a93-3c7c-43aa-af38-4c8d1c6bdf0d',
        addrType: 'C',
        country: '',
        address1: '',
        address2: '',
        address3: '',
        address4: '',
        address5: '',
        address6: '',
        address7: '',
        zipCode: '',
        alternateContact: '',
        alternateContactType: '',
        fullAddress: 'Malaysia Perlis Kangar Jalan Muni 5 No 635',
        level: '',
        unitNumber: '',
        laAddressClientId: '50024557',
        addressId: '10182767',
        communicationLane: null,
      },
    ]);
  });

  test('test id not filter logic', () => {
    const addressList = [
      {
        id: '47ce0c7f-34cf-4d0a-baf7-66ef40692983',
        creator: 'MYSAY1',
        gmtCreate: '2023-02-09T06:15:37.000+0000',
        modifier: '0',
        gmtModified: '2023-02-09T06:15:37.000+0000',
        deleted: 0,
        transId: '6743839d-a2fc-44d7-be5c-e24d68fab5ce',
        applicationNo: 'MY20230128014',
        clientId: 'a86e2a93-3c7c-43aa-af38-4c8d1c6bdf0d',
        addrType: 'C',
        country: '',
        address1: '',
        address2: '',
        address3: '',
        address4: '',
        address5: '',
        address6: '',
        address7: '',
        zipCode: '',
        alternateContact: '',
        alternateContactType: '',
        fullAddress: '',
        level: '',
        unitNumber: '',
        laAddressClientId: '50024557',
        addressId: '10182767',
        communicationLane: null,
      },
    ];
    const result = dropEmptyAddress({
      addressList,
    });

    expect(result).toEqual([]);
  });
  test('test not filter addrType', () => {
    const addressList = [
      {
        id: 'e93a15ce-edbf-4b2b-815d-e88548e21420',
        creator: 'SYSTEM',
        gmtCreate: '2023-02-09T09:54:41.000+0000',
        modifier: '0',
        gmtModified: '2023-02-09T09:54:41.000+0000',
        deleted: 0,
        transId: '918fac7d-4967-4dc3-8396-974f88ec7080',
        applicationNo: 'ZDH202302092009',
        clientId: '757476cf-0bae-4415-a283-e794ae0d65e2',
        addrType: null,
        country: 'KHM',
        address1: null,
        address2: null,
        address3: null,
        address4: null,
        address5: null,
        address6: null,
        address7: 'KHM',
        zipCode: null,
        alternateContact: null,
        alternateContactType: null,
        fullAddress: 'Cambodia',
        level: null,
        unitNumber: null,
        laAddressClientId: null,
        addressId: '10002926',
        communicationLane: null,
      },
    ];
    const result = dropEmptyAddress({
      addressList,
    });

    expect(result).toEqual([
      {
        id: 'e93a15ce-edbf-4b2b-815d-e88548e21420',
        creator: 'SYSTEM',
        gmtCreate: '2023-02-09T09:54:41.000+0000',
        modifier: '0',
        gmtModified: '2023-02-09T09:54:41.000+0000',
        deleted: 0,
        transId: '918fac7d-4967-4dc3-8396-974f88ec7080',
        applicationNo: 'ZDH202302092009',
        clientId: '757476cf-0bae-4415-a283-e794ae0d65e2',
        addrType: null,
        country: 'KHM',
        address1: null,
        address2: null,
        address3: null,
        address4: null,
        address5: null,
        address6: null,
        address7: 'KHM',
        zipCode: null,
        alternateContact: null,
        alternateContactType: null,
        fullAddress: 'Cambodia',
        level: null,
        unitNumber: null,
        laAddressClientId: null,
        addressId: '10002926',
        communicationLane: null,
      },
    ]);
  });

  test('test not filter country', () => {
    const addressList = [
      {
        id: 'e93a15ce-edbf-4b2b-815d-e88548e21420',
        creator: 'SYSTEM',
        gmtCreate: '2023-02-09T09:54:41.000+0000',
        modifier: '0',
        gmtModified: '2023-02-09T09:54:41.000+0000',
        deleted: 0,
        transId: '918fac7d-4967-4dc3-8396-974f88ec7080',
        applicationNo: 'ZDH202302092009',
        clientId: '757476cf-0bae-4415-a283-e794ae0d65e2',
        addrType: null,
        country: 'KHM',
        address1: null,
        address2: null,
        address3: null,
        address4: null,
        address5: null,
        address6: null,
        address7: null,
        zipCode: null,
        alternateContact: null,
        alternateContactType: null,
        fullAddress: null,
        level: null,
        unitNumber: null,
        laAddressClientId: null,
        addressId: '10002926',
        communicationLane: null,
      },
    ];
    const result = dropEmptyAddress({
      addressList,
    });

    expect(result).toEqual([
      {
        id: 'e93a15ce-edbf-4b2b-815d-e88548e21420',
        creator: 'SYSTEM',
        gmtCreate: '2023-02-09T09:54:41.000+0000',
        modifier: '0',
        gmtModified: '2023-02-09T09:54:41.000+0000',
        deleted: 0,
        transId: '918fac7d-4967-4dc3-8396-974f88ec7080',
        applicationNo: 'ZDH202302092009',
        clientId: '757476cf-0bae-4415-a283-e794ae0d65e2',
        addrType: null,
        country: 'KHM',
        address1: null,
        address2: null,
        address3: null,
        address4: null,
        address5: null,
        address6: null,
        address7: null,
        zipCode: null,
        alternateContact: null,
        alternateContactType: null,
        fullAddress: null,
        level: null,
        unitNumber: null,
        laAddressClientId: null,
        addressId: '10002926',
        communicationLane: null,
      },
    ]);
  });
  test('test addrType === US && country === USA  ----> filter ', () => {
    const addressList = [
      {
        id: 'e93a15ce-edbf-4b2b-815d-e88548e21420',
        creator: 'SYSTEM',
        gmtCreate: '2023-02-09T09:54:41.000+0000',
        modifier: '0',
        gmtModified: '2023-02-09T09:54:41.000+0000',
        deleted: 0,
        transId: '918fac7d-4967-4dc3-8396-974f88ec7080',
        applicationNo: 'ZDH202302092009',
        clientId: '757476cf-0bae-4415-a283-e794ae0d65e2',
        addrType: 'US',
        country: 'USA',
        address1: null,
        address2: null,
        address3: null,
        address4: null,
        address5: null,
        address6: null,
        address7: null,
        zipCode: null,
        alternateContact: null,
        alternateContactType: null,
        fullAddress: null,
        level: null,
        unitNumber: null,
        laAddressClientId: null,
        addressId: '10002926',
        communicationLane: null,
      },
    ];
    const result = dropEmptyAddress({
      addressList,
    });

    expect(result).toEqual([]);
  });
});
